{
  $schema: "https://docs.renovatebot.com/renovate-schema.json",
  ignorePaths: ["^archive/**"],
  prHourlyLimit: 10,
  repositories: ["sebastiaankok/nix-homelab"],
  extends: ["mergeConfidence:all-badges"],

  "nix": {
    "enabled": "true",
  },

  "lockFileMaintenance": {
    "enabled": "true",
    "automerge": "false",
    "schedule": ["after 10pm every weekday", "before 5am every weekday", "every weekend"]
  },

  "regexManagers": [{
    fileMatch: ["^modules/containers/.*\\.nix$"],
    matchStrings: [
      'image *= *"(?<depName>.*?):(?<currentValue>.*?)(@(?<currentDigest>sha256:[a-f0-9]+))?"',
    ],
    datasourceTemplate: "docker",
  }],
}
